(()=>{"use strict";var e=wp.components.CheckboxControl;const t=function(t){var a=t.listItems,n=t.selected,l=t.onItemChange,o=t.label;return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("label",{class:"components-base-control__label"},o),wp.element.createElement("ul",{className:"multibox__checklist"},a.map((function(t){return wp.element.createElement("li",{key:t.value,className:"multibox__checklist-item"},wp.element.createElement(e,{label:t.label,checked:n.includes(t.value),onChange:function(){l(t.value)}}))}))))};var a=wp.components.CheckboxControl;const n=function(e){var t=e.listItems,n=e.selected,l=e.onItemChange,o=e.label;return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("label",{class:"components-base-control__label"},o),wp.element.createElement("ul",{className:"multibox__checklist"},t.map((function(e){return wp.element.createElement("li",{key:e.value,className:"multibox__checklist-item"},wp.element.createElement(a,{label:(t=e.label,o=document.createElement("textarea"),o.innerHTML=t,o.value),checked:n.includes(e.value),onChange:function(){l(e.value)},disabled:n.includes("")&&""!==e.value,className:n.includes("")&&""!==e.value?"checkbox-disabled":""}));var t,o}))))};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function i(e,t,a){return(t=s(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var m=wp.i18n.__,h=wp.element,b=h.Component,y=h.Fragment,f=wp.editor,g=f.MediaUpload,v=f.PanelColorSettings,w=wp.apiFetch,S=wp.components,E=S.Dashicon,C=S.SelectControl,k=S.PanelBody,P=S.Button,x=S.Disabled,L=S.Placeholder,T=S.RangeControl,F=S.TextControl,A=S.TextareaControl,_=S.ToggleControl,D=S.Toolbar,R=wp.serverSideRender,M=wp.blockEditor,U=M.BlockControls,O=M.InspectorControls;const B=function(e){function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=!(e=function(e,t,a){return t=u(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,a||[],u(e).constructor):t.apply(e,a))}(this,a,arguments)).props.attributes.feedURL&&"feed"===e.props.attributes.fetchMethod||!e.props.attributes.audioSrc&&"link"===e.props.attributes.fetchMethod;e.state={editing:t,fontFamilies:[],postTypes:[],taxonomies:[],termsList:[],episodeList:[],seasonList:[],categoryList:[],feedIndex:[]};var n=window.ppmejsSettings||{};return e.isPremium=n.isPremium,e.fetching=!1,e.toggleAttribute=e.toggleAttribute.bind(e),e.onSubmitURL=e.onSubmitURL.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e),r=a,s=[{key:"apiDataFetch",value:function(e,t){var a=this;this.fetching?setTimeout(this.apiDataFetch.bind(this,e,t),200):(this.fetching=!0,w({path:"/podcastplayer/v1/"+t}).then((function(t){var n=Object.keys(t);n=n.map((function(e){return{label:t[e],value:e}})),a.setState(i({},e,n)),a.fetching=!1})).catch((function(t){a.setState(i({},e,[])),a.fetching=!1,console.log(t)})))}},{key:"componentDidMount",value:function(){if(this.apiDataFetch("feedIndex","fIndex"),this.isPremium){var e=this.props.attributes,t=e.postType,a=e.fetchMethod;this.apiDataFetch("postTypes","posttypes"),this.apiDataFetch("fontFamilies","fontfamily"),"link"!==a&&this.updateElist(),"feed"===a&&(this.updateSlist(),this.updateCatlist()),t&&(this.updateTaxonomy(),this.updateTerms())}}},{key:"componentDidUpdate",value:function(e){if(this.isPremium){var t=e.attributes,a=t.postType,n=t.taxonomy,l=t.fontFamily,o=t.terms,r=t.sortBy,i=t.filterBy,c=t.fetchMethod,s=t.feedURL,p=t.catlist,u=t.slist,d=this.props.attributes,m=d.postType,h=d.taxonomy,b=d.fontFamily,y=d.terms,f=d.sortBy,g=d.filterBy,v=d.fetchMethod,w=d.feedURL,S=d.slist,E=d.catlist;a!==m&&this.updateTaxonomy(),n!==h&&this.updateTerms(),l!==b&&this.updateFonts(),n===h&&o===y&&r===f&&i===g&&c===v&&s===w&&p===E&&u===S||this.updateElist(),(c!==v&&"feed"===v||s!==w)&&(this.updateSlist(),this.updateCatlist())}}},{key:"updateTaxonomy",value:function(){var e=this.props.attributes.postType;e?this.apiDataFetch("taxonomies","taxonomies/"+e):this.setState({taxonomies:[],termsList:[]})}},{key:"updateTerms",value:function(){var e=this.props.attributes.taxonomy;e?this.apiDataFetch("termsList","terms/"+e):this.setState({termsList:[]})}},{key:"updateElist",value:function(){var e=this.props.attributes,t=e.fetchMethod,a=e.feedURL,n=e.postType,l=e.taxonomy,o=e.terms,r=e.sortBy,i=e.filterBy,c=e.slist,s=e.catlist;if("feed"===t&&""!==a){var p="",u=!!c&&c.filter(Boolean),d=!!s&&s.filter(Boolean);u&&u.length&&(p+="&seasons="+u.join()),d&&d.length&&(p+="&categories="+d.join()),this.apiDataFetch("episodeList","fElist?feedURL="+encodeURIComponent(a)+p)}else if("post"===t){var m="";l&&o&&o.length&&(m+="&taxonomy="+l+"&terms="+o.join()),r&&(m+="&sortBy="+r),i&&(m+="&filterBy="+i),this.apiDataFetch("episodeList","pElist?postType="+n+m)}else this.setState({episodeList:[]})}},{key:"updateSlist",value:function(){var e=this.props.attributes,t=e.fetchMethod,a=e.feedURL;"feed"===t&&""!==a?this.apiDataFetch("seasonList","fSlist?feedURL="+a):this.setState({seasonList:[]})}},{key:"updateCatlist",value:function(){var e=this.props.attributes,t=e.fetchMethod,a=e.feedURL;"feed"===t&&""!==a?this.apiDataFetch("categoryList","fcatlist?feedURL="+a):this.setState({categoryList:[]})}},{key:"updateFonts",value:function(){var e=this.props.attributes.fontFamily,t=this.state.fontFamilies;if(e){var a=t.filter((function(t){return e===t.value}));if(a.length){var n=a[0].label.split(" ").join("+");if(0===jQuery("link#podcast-player-fonts-css-temp").length){var l=jQuery("<link>",{id:"podcast-player-fonts-css-temp",href:"//fonts.googleapis.com/css?family="+n,rel:"stylesheet",type:"text/css"});jQuery("link:last").after(l)}else{var o=jQuery("link#podcast-player-fonts-css-temp"),r=o.attr("href");o.attr("href",r+"%7C"+n)}}}}},{key:"toggleAttribute",value:function(e){var t=this;return function(){var a=t.props.attributes[e];(0,t.props.setAttributes)(i({},e,!a))}}},{key:"onSubmitURL",value:function(e){e.preventDefault();var t=this.props.attributes,a=t.fetchMethod,n=t.feedURL,l=t.audioSrc;"feed"===a?n&&this.setState({editing:!1}):"link"===a&&l&&this.setState({editing:!1})}},{key:"navMenuSelect",value:function(){var e=window.podcastPlayerData.menu||{};return(e=Array.from(e)).push({label:"- Select Menu -",value:""}),e.map((function(e){return{label:e.label,value:e.value}}))}},{key:"render",value:function(){var e=this,a=this.props.attributes,l=a.feedURL,r=a.sortBy,i=a.filterBy,c=a.number,s=a.offset,p=a.teaserText,u=a.excerptLength,d=a.excerptUnit,h=a.podcastMenu,b=a.mainMenuItems,f=a.coverImage,w=a.description,S=a.accentColor,M=a.displayStyle,B=a.aspectRatio,I=a.cropMethod,N=a.gridColumns,j=a.fetchMethod,H=a.postType,z=a.taxonomy,q=a.terms,Q=a.podtitle,G=a.audioSrc,V=a.audioTitle,W=a.audioLink,Y=a.headerDefault,$=a.noScroll,J=a.listDefault,K=a.hideHeader,X=a.hideTitle,Z=a.hideCover,ee=a.hideDesc,te=a.hideSubscribe,ae=a.hideSearch,ne=a.hideAuthor,le=a.hideContent,oe=a.hideLoadmore,re=a.hideDownload,ie=a.ahideDownload,ce=a.hideSocial,se=a.hideFeatured,pe=a.ahideSocial,ue=a.audioMsg,de=a.playFreq,me=a.msgStart,he=a.msgTime,be=a.msgText,ye=a.feedBack,fe=a.showFormTime,ge=a.feedbackText,ve=a.positiveText,we=a.positiveUrl,Se=a.negativeText,Ee=a.negativeForm,Ce=a.bgColor,ke=a.txtColor,Pe=a.fontFamily,xe=a.appleSub,Le=a.googleSub,Te=a.spotifySub,Fe=a.breakerSub,Ae=a.castboxSub,_e=a.castroSub,De=a.iheartSub,Re=a.amazonSub,Me=a.overcastSub,Ue=a.pocketcastsSub,Oe=a.podcastaddictSub,Be=a.podchaserSub,Ie=a.radiopublicSub,Ne=a.soundcloudSub,je=a.stitcherSub,He=a.tuneinSub,ze=a.youtubeSub,qe=a.bullhornSub,Qe=a.podbeanSub,Ge=a.playerfmSub,Ve=a.elist,We=a.slist,Ye=a.catlist,$e=a.edisplay,Je=this.state,Ke=Je.postTypes,Xe=Je.taxonomies,Ze=Je.termsList,et=Je.episodeList,tt=Je.seasonList,at=Je.categoryList,nt=Je.fontFamilies,lt=Je.feedIndex,ot=this.props.setAttributes,rt=this.navMenuSelect(),it=window.podcastPlayerData.style||{label:"Default",value:""},ct=function(e,t){var a=window.podcastPlayerData.stSup||!1;return!(void 0===M||!a)&&!!a[e]&&a[e].includes(t)},st=[{value:"",label:m("No Cropping","podcast-player")},{value:"land1",label:m("Landscape (4:3)","podcast-player")},{value:"land2",label:m("Landscape (3:2)","podcast-player")},{value:"port1",label:m("Portrait (3:4)","podcast-player")},{value:"port2",label:m("Portrait (2:3)","podcast-player")},{value:"wdscrn",label:m("Widescreen (16:9)","podcast-player")},{value:"squr",label:m("Square (1:1)","podcast-player")}],pt=[{value:"topleftcrop",label:m("Top Left Cropping","podcast-player")},{value:"topcentercrop",label:m("Top Center Cropping","podcast-player")},{value:"centercrop",label:m("Center Cropping","podcast-player")},{value:"bottomcentercrop",label:m("Bottom Center Cropping","podcast-player")},{value:"bottomleftcrop",label:m("Bottom Left Cropping","podcast-player")}],ut=function(t){ot({fetchMethod:t,elist:[""],slist:[""],catlist:[""],edisplay:""}),"post"===t?e.setState({editing:!1}):e.setState({editing:!0})};if(this.state.editing)return wp.element.createElement(y,null,wp.element.createElement(L,{icon:"rss",label:"RSS"},wp.element.createElement("form",{onSubmit:this.onSubmitURL},!!("feed"===j&&lt&&Array.isArray(lt)&&lt.length)&&wp.element.createElement("div",{style:{width:"100%"}},wp.element.createElement(C,{value:l,onChange:function(e){return ot({feedURL:e,elist:[""],slist:[""],catlist:[""],edisplay:""})},options:lt,style:{maxWidth:"none"}}),wp.element.createElement("span",{style:{width:"100%",textAlign:"center",marginBottom:"10px",display:"block"}},"OR")),"feed"===j&&wp.element.createElement("div",{style:{width:"100%"}},wp.element.createElement(F,{placeholder:m("Enter URL hereâ€¦","podcast-player"),value:l,onChange:function(e){return ot({feedURL:e,elist:[""],slist:[""],catlist:[""],edisplay:""})},className:"components-placeholder__input"})),"link"===j&&wp.element.createElement(F,{placeholder:m("Enter Audio/Video Link (i.e, mp3, ogg, m4a etc.)","podcast-player"),value:G,onChange:function(e){return ot({audioSrc:e})},className:"components-placeholder__input"}),wp.element.createElement(P,{type:"submit",style:{backgroundColor:"#f7f7f7"}},m("Show Podcast","podcast-player")))),wp.element.createElement(O,null,!!this.isPremium&&wp.element.createElement(k,{initialOpen:!0,title:m("Setup Fetching Method","podcast-player")},wp.element.createElement(C,{label:m("Fetch Podcast Episodes","podcast-player"),value:j,onChange:ut,options:[{value:"feed",label:m("from Feed","podcast-player")},{value:"post",label:m("from Post","podcast-player")},{value:"link",label:m("from Audio/Video URL","podcast-player")}]}))));var dt=[{icon:"edit",title:m("Edit RSS URL","podcast-player"),onClick:function(){return e.setState({editing:!0})}}];return wp.element.createElement(y,null,wp.element.createElement(U,null,wp.element.createElement(D,{controls:dt})),wp.element.createElement(O,null,!!this.isPremium&&wp.element.createElement(k,{initialOpen:!0,title:m("Setup Fetching Method","podcast-player")},wp.element.createElement(C,{label:m("Fetch Podcast Episodes","podcast-player"),value:j,onChange:ut,options:[{value:"feed",label:m("from Feed","podcast-player")},{value:"post",label:m("from Post","podcast-player")},{value:"link",label:m("from Audio/Video URL","podcast-player")}]}),Ke&&"post"===j&&wp.element.createElement(C,{label:m("Select Post Type","podcast-player"),value:H,options:Ke,onChange:function(e){return function(e){ot({terms:[]}),ot({taxonomy:""}),ot({postType:e})}(e)}}),H&&!!Xe.length&&"post"===j&&wp.element.createElement(C,{label:m("Get items by Taxonomy","podcast-player"),value:z,options:Xe,onChange:function(e){return function(e){ot({terms:[]}),ot({taxonomy:e})}(e)}}),!!Ze.length&&"post"===j&&wp.element.createElement(t,{listItems:Ze,selected:q,onItemChange:function(e){var t=q.indexOf(e);ot(-1===t?{terms:[].concat(o(q),[e])}:{terms:q.filter((function(t){return t!==e}))})},label:m("Select Taxonomy Terms","podcast-player")}),"link"===j&&wp.element.createElement(F,{label:m("Episode Title","podcast-player"),value:V,onChange:function(e){return ot({audioTitle:e})}}),"link"===j&&wp.element.createElement(F,{label:m("Podcast episode link for social sharing (optional)","podcast-player"),value:W,onChange:function(e){return ot({audioLink:e})}}),"link"===j&&wp.element.createElement(_,{label:m("Hide Episode Download Link","podcast-player"),checked:!!ie,onChange:function(e){return ot({ahideDownload:e})}}),"link"===j&&wp.element.createElement(_,{label:m("Hide Social Share Links","podcast-player"),checked:!!pe,onChange:function(e){return ot({ahideSocial:e})}})),wp.element.createElement(k,{initialOpen:!1,title:m("Change Podcast Content","podcast-player")},this.isPremium&&"post"===j&&wp.element.createElement(F,{label:m("Podcast Title","podcast-player"),value:Q,onChange:function(e){return ot({podtitle:e})}}),wp.element.createElement(g,{onSelect:function(e){return ot({coverImage:e.url})},type:"image",value:f,render:function(e){var t=e.open;return wp.element.createElement(P,{className:"pp-cover-btn",onClick:t},f?wp.element.createElement("img",{className:"ppe-cover-image",src:f,alt:m("Cover Image","podcast-player")}):wp.element.createElement("div",{className:"no-image"},wp.element.createElement(E,{icon:"format-image"}),m("Upload Cover Image","podcast-player")))}}),f&&wp.element.createElement(P,{className:"remove-pp-cover",onClick:function(){return ot({coverImage:""})}},m("Remove Cover Image","podcast-player")),wp.element.createElement(A,{label:m("Brief Description","podcast-player"),help:m("Change Default Podcast Description","podcast-player"),value:w,onChange:function(e){return ot({description:e})}}),"link"!==j&&wp.element.createElement(T,{label:m("Number of episodes to show at a time","podcast-player"),value:c,onChange:function(e){return ot({number:e})},min:1,max:1e3}),"link"!==j&&(!M||"modern"===M)&&wp.element.createElement(_,{label:m("Show initial loaded episodes without scrolling","podcast-player"),checked:!!$,onChange:function(e){return ot({noScroll:e})}}),"link"!==j&&wp.element.createElement(T,{label:m("Number of episodes to skip from the beginning","podcast-player"),value:s,onChange:function(e){return ot({offset:e})},min:0,max:1e3}),ct(M,"excerpt")&&"link"!==j&&wp.element.createElement(C,{label:m("Teaser Text","podcast-player"),value:p,onChange:function(e){return ot({teaserText:e})},options:[{value:"",label:m("Show Excerpt","podcast-player")},{value:"full",label:m("Show Full Content","podcast-player")},{value:"none",label:m("Do not Show Teaser Text","podcast-player")}]}),ct(M,"excerpt")&&""===p&&"link"!==j&&wp.element.createElement(T,{label:m("Excerpt Length","podcast-player"),value:u,onChange:function(e){return ot({excerptLength:e})},min:0,max:200}),ct(M,"excerpt")&&""===p&&"link"!==j&&wp.element.createElement(C,{label:m("Excerpt Length Unit","podcast-player"),value:d,onChange:function(e){return ot({excerptUnit:e})},options:[{value:"",label:m("Number of words","podcast-player")},{value:"char",label:m("Number of characters","podcast-player")}]})),wp.element.createElement(k,{initialOpen:!1,title:m("Subscription Buttons","podcast-player")},(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Apple Subscription Link","podcast-player"),value:xe,onChange:function(e){return ot({appleSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Google Subscription Link","podcast-player"),value:Le,onChange:function(e){return ot({googleSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Spotify Subscription Link","podcast-player"),value:Te,onChange:function(e){return ot({spotifySub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Breaker Subscription Link","podcast-player"),value:Fe,onChange:function(e){return ot({breakerSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Castbox Subscription Link","podcast-player"),value:Ae,onChange:function(e){return ot({castboxSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Castro Subscription Link","podcast-player"),value:_e,onChange:function(e){return ot({castroSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("iHeart Radio Subscription Link","podcast-player"),value:De,onChange:function(e){return ot({iheartSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Amazon Music Subscription Link","podcast-player"),value:Re,onChange:function(e){return ot({amazonSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Overcast Subscription Link","podcast-player"),value:Me,onChange:function(e){return ot({overcastSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Pocket Casts Subscription Link","podcast-player"),value:Ue,onChange:function(e){return ot({pocketcastsSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Podcast Addict Subscription Link","podcast-player"),value:Oe,onChange:function(e){return ot({podcastaddictSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Podchaser Subscription Link","podcast-player"),value:Be,onChange:function(e){return ot({podchaserSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Radio Public Subscription Link","podcast-player"),value:Ie,onChange:function(e){return ot({radiopublicSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("SoundCloud Subscription Link","podcast-player"),value:Ne,onChange:function(e){return ot({soundcloudSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Pandora Subscription Link","podcast-player"),value:je,onChange:function(e){return ot({stitcherSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Tune In Subscription Link","podcast-player"),value:He,onChange:function(e){return ot({tuneinSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("YouTube Subscription Link","podcast-player"),value:ze,onChange:function(e){return ot({youtubeSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Bull Horn Subscription Link","podcast-player"),value:qe,onChange:function(e){return ot({bullhornSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("Podbean Subscription Link","podcast-player"),value:Qe,onChange:function(e){return ot({podbeanSub:e})}}),(!h||!b)&&wp.element.createElement(F,{label:m("Add a Podcast Subscription link","podcast-player"),placeholder:m("PlayerFM Subscription Link","podcast-player"),value:Ge,onChange:function(e){return ot({playerfmSub:e})}}),wp.element.createElement(C,{label:m("Podcast Subscription Menu","podcast-player"),value:h,onChange:function(e){return ot({podcastMenu:e})},options:rt}),!!h&&!!b&&wp.element.createElement(T,{label:m("Number of Primary Subscription Links","podcast-player"),value:b,onChange:function(e){return ot({mainMenuItems:e})},min:0,max:20})),"link"!==j&&wp.element.createElement(k,{initialOpen:!1,title:m("Show/Hide Player Items","podcast-player")},(!M||"legacy"===M||"modern"===M)&&wp.element.createElement(_,{label:m("Show Podcast Header by Default","podcast-player"),checked:!!Y,onChange:function(e){return ot({headerDefault:e})}}),(!M||"legacy"===M||"modern"===M)&&wp.element.createElement(_,{label:m("Show episodes list by default on mini player.","podcast-player"),checked:!!J,onChange:function(e){return ot({listDefault:e})}}),wp.element.createElement(_,{label:m("Hide Podcast Header","podcast-player"),checked:!!K,onChange:function(e){return ot({hideHeader:e})}}),!K&&wp.element.createElement(_,{label:m("Hide cover image","podcast-player"),checked:!!Z,onChange:function(e){return ot({hideCover:e})}}),!K&&wp.element.createElement(_,{label:m("Hide Podcast Title","podcast-player"),checked:!!X,onChange:function(e){return ot({hideTitle:e})}}),!K&&wp.element.createElement(_,{label:m("Hide Podcast Description","podcast-player"),checked:!!ee,onChange:function(e){return ot({hideDesc:e})}}),!K&&wp.element.createElement(_,{label:m("Hide Custom menu","podcast-player"),checked:!!te,onChange:function(e){return ot({hideSubscribe:e})}}),wp.element.createElement(_,{label:m("Hide Podcast Search","podcast-player"),checked:!!ae,onChange:function(e){return ot({hideSearch:e})}}),wp.element.createElement(_,{label:m("Hide Episode Author/Podcaster Name","podcast-player"),checked:!!ne,onChange:function(e){return ot({hideAuthor:e})}}),"feed"===j&&wp.element.createElement(_,{label:m("Hide Episode Text Content/Transcript","podcast-player"),checked:!!le,onChange:function(e){return ot({hideContent:e})}}),wp.element.createElement(_,{label:m("Hide Load More Episodes Button","podcast-player"),checked:!!oe,onChange:function(e){return ot({hideLoadmore:e})}}),wp.element.createElement(_,{label:m("Hide Episode Download Link","podcast-player"),checked:!!re,onChange:function(e){return ot({hideDownload:e})}}),wp.element.createElement(_,{label:m("Hide Social Share Links","podcast-player"),checked:!!ce,onChange:function(e){return ot({hideSocial:e})}}),wp.element.createElement(_,{label:m("Hide Episodes Featured Image","podcast-player"),checked:!!se,onChange:function(e){return ot({hideFeatured:e})}})),wp.element.createElement(k,{initialOpen:!1,title:m("Podcast Player Styling","podcast-player")},wp.element.createElement(C,{label:m("Podcast Player Display Style","podcast-player"),value:M,onChange:function(e){return ot({displayStyle:e})},options:it}),ct(M,"thumbnail")&&wp.element.createElement(C,{label:m("Thumbnail Cropping","podcast-player"),value:B,onChange:function(e){return ot({aspectRatio:e})},options:st}),ct(M,"thumbnail")&&B&&wp.element.createElement(C,{label:m("Thumbnail Cropping Position","podcast-player"),value:I,onChange:function(e){return ot({cropMethod:e})},options:pt}),ct(M,"grid")&&wp.element.createElement(T,{label:m("Grid Columns","podcast-player"),value:N,onChange:function(e){return ot({gridColumns:e})},min:1,max:6}),!!this.isPremium&&wp.element.createElement(C,{label:m("Select Font Family","podcast-player"),value:Pe,options:nt,onChange:function(e){return ot({fontFamily:e})}}),!!this.isPremium&&ct(M,"txtcolor")&&wp.element.createElement(C,{label:m("Text Color Scheme","podcast-player"),value:ke,options:[{value:"",label:m("Dark Text","podcast-player")},{value:"ltext",label:m("Light Text","podcast-player")}],onChange:function(e){return ot({txtColor:e})}})),wp.element.createElement(v,{title:m("Podcast Player Color Scheme","podcast-player"),initialOpen:!1,colorSettings:[{value:S,onChange:function(e){return ot({accentColor:e})},label:m("Accent Color","podcast-player")}].concat(o(this.isPremium&&ct(M,"bgcolor")?[{value:Ce,onChange:function(e){return ot({bgColor:e})},label:m("Player Background Color","podcast-player")}]:[]))}),"link"!==j&&wp.element.createElement(k,{initialOpen:!1,title:m("Sort & Filter Options","podcast-player")},wp.element.createElement(C,{label:m("Sort Podcast Episodes By","podcast-player"),value:r,onChange:function(e){return ot({sortBy:e})},options:[{value:"sort_title_desc",label:m("Title Descending","podcast-player")},{value:"sort_title_asc",label:m("Title Ascending","podcast-player")},{value:"sort_date_desc",label:m("Date Descending","podcast-player")},{value:"sort_date_asc",label:m("Date Ascending","podcast-player")},{value:"no_sort",label:m("Do Not Sort","podcast-player")},{value:"reverse_sort",label:m("Reverse Sort","podcast-player")}]}),wp.element.createElement(F,{label:m("Show episodes only if title contains following","podcast-player"),value:i,onChange:function(e){return ot({filterBy:e})}}),1<tt.length&&"feed"===j&&wp.element.createElement(n,{listItems:tt,selected:We,onItemChange:function(e){var t=We.indexOf(e);ot(-1===t?""===e?{slist:[e]}:{slist:[].concat(o(We),[e])}:""===e?{slist:[]}:{slist:We.filter((function(t){return t!==e}))})},label:m("Select Seasons to be displayed","podcast-player")}),1<at.length&&"feed"===j&&wp.element.createElement(n,{listItems:at,selected:Ye,onItemChange:function(e){var t=Ye.indexOf(e);ot(-1===t?""===e?{catlist:[e]}:{catlist:[].concat(o(Ye),[e])}:""===e?{catlist:[]}:{catlist:Ye.filter((function(t){return t!==e}))})},label:m("Select Categories to be displayed","podcast-player")}),!!et.length&&"link"!==j&&wp.element.createElement(n,{listItems:et,selected:Ve,onItemChange:function(e){var t=Ve.indexOf(e);ot(-1===t?""===e?{elist:[e]}:{elist:[].concat(o(Ve),[e])}:""===e?{elist:[]}:{elist:Ve.filter((function(t){return t!==e}))})},label:m("Select Episodes to be displayed","podcast-player")}),!!et.length&&"link"!==j&&!!Ve.filter(Boolean).length&&wp.element.createElement(C,{label:m("Show or Hide above selected episodes","podcast-player"),value:$e,onChange:function(e){return ot({edisplay:e})},options:[{value:"",label:m("Show above selected episodes","podcast-player")},{value:"hide",label:m("Hide above selected episodes","podcast-player")}]})),!!this.isPremium&&wp.element.createElement(k,{initialOpen:!1,title:m("Custom Audio Message","podcast-player")},wp.element.createElement(F,{label:m("Enter URL of mp3 audio file to be played","podcast-player"),value:ue,onChange:function(e){return ot({audioMsg:e})}}),wp.element.createElement(T,{label:m("Replay Frequency","podcast-player"),help:m("After how many episodes the audio should be replayed","podcast-player"),value:de,onChange:function(e){return ot({playFreq:e})},min:0,max:100}),wp.element.createElement(C,{label:m("When to start playing the audio message","podcast-player"),value:me,onChange:function(e){return ot({msgStart:e})},options:[{value:"start",label:m("Start of the Episode","podcast-player")},{value:"end",label:m("End of the Episode","podcast-player")},{value:"custom",label:m("Custom Time","podcast-player")}]}),me&&"custom"===me&&wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("label",{className:"components-base-control__label"},m("Start playing audio at (time in hh:mm:ss)")),wp.element.createElement("div",{className:"components-datetime__time-field components-datetime__time-field-time"},wp.element.createElement("input",{className:"components-datetime__time-field-hours-input",type:"number",step:1,min:0,max:10,value:he[0],onChange:function(e){var t=e.target.value,a=he[1]?he[1]:0,n=he[2]?he[2]:0;ot({msgTime:[t,a,n]})}}),wp.element.createElement("span",{className:"components-datetime__time-separator","aria-hidden":"true"},":"),wp.element.createElement("input",{className:"components-datetime__time-field-hours-input",type:"number",step:1,min:0,max:59,value:he[1],onChange:function(e){var t=e.target.value,a=he[0]?he[0]:0,n=he[2]?he[2]:0;ot({msgTime:[a,t,n]})}}),wp.element.createElement("span",{className:"components-datetime__time-separator","aria-hidden":"true"},":"),wp.element.createElement("input",{className:"components-datetime__time-field-hours-input",type:"number",step:1,min:0,max:59,value:he[2],onChange:function(e){var t=e.target.value,a=he[0]?he[0]:0,n=he[1]?he[1]:0;ot({msgTime:[a,n,t]})}}))),wp.element.createElement(F,{label:m("Message to be displayed while playing audio.","podcast-player"),value:be,onChange:function(e){return ot({msgText:e})}})),this.isPremium&&"feed"===j&&wp.element.createElement(k,{initialOpen:!1,title:m("Allow User Feedback","podcast-player")},wp.element.createElement(_,{label:m("Enable User Feedback","podcast-player"),checked:!!ye,onChange:function(e){return ot({feedBack:e})}}),!!ye&&wp.element.createElement("div",null,wp.element.createElement(T,{label:m("Show Form After Play Time (Seconds)","podcast-player"),help:m("Show the form only after the episode has played for the specified seconds.","podcast-player"),value:fe,onChange:function(e){return ot({showFormTime:e})},min:0,max:600,step:1}),wp.element.createElement(F,{label:m("Feedback Text","podcast-player"),value:ge,onChange:function(e){return ot({feedbackText:e})},help:m("Initial message to get listener feedback.","podcast-player")}),wp.element.createElement(F,{label:m("Positive Feedback Response","podcast-player"),value:ve,onChange:function(e){return ot({positiveText:e})},help:m("Message for listeners if they give positive feedback.","podcast-player")}),wp.element.createElement(F,{label:m("Positive Feedback URL","podcast-player"),value:we,onChange:function(e){return ot({positiveUrl:e})},help:m("Apple podcast or other URL for listener to give positive rating.","podcast-player")}),wp.element.createElement(F,{label:m("Negative Feedback Response","podcast-player"),value:Se,onChange:function(e){return ot({negativeText:e})},help:m("Message for listeners if they give negative feedback.","podcast-player")}),wp.element.createElement(_,{label:m("Show Negative Feedback Form","podcast-player"),checked:!!Ee,onChange:function(e){return ot({negativeForm:e})},help:m("Show form to get detailed negative feedback.","podcast-player")})))),wp.element.createElement(x,null,wp.element.createElement(R,{block:"podcast-player/podcast-player",attributes:this.props.attributes})))}}],s&&c(r.prototype,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s}(b);var I=wp.i18n.__;(0,wp.blocks.registerBlockType)("podcast-player/podcast-player",{title:I("Podcast Player","podcast-player"),description:I("Host your podcast anywhere, display them only using podcasting feed url.","podcast-player"),icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},wp.element.createElement("path",{d:"M32 16c0-8.837-7.163-16-16-16s-16 7.163-16 16c0 6.877 4.339 12.739 10.428 15.002l-0.428 0.998h12l-0.428-0.998c6.089-2.263 10.428-8.125 10.428-15.002zM15.212 19.838c-0.713-0.306-1.212-1.014-1.212-1.838 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0.825-0.499 1.533-1.212 1.839l-0.788-1.839-0.788 1.838zM16.821 19.915c1.815-0.379 3.179-1.988 3.179-3.915 0-2.209-1.791-4-4-4s-4 1.791-4 4c0 1.928 1.364 3.535 3.18 3.913l-2.332 5.441c-2.851-1.223-4.848-4.056-4.848-7.355 0-4.418 3.582-8.375 8-8.375s8 3.957 8 8.375c0 3.299-1.997 6.131-4.848 7.355l-2.331-5.439zM21.514 30.866l-2.31-5.39c3.951-1.336 6.796-5.073 6.796-9.476 0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.402 2.845 8.14 6.796 9.476l-2.31 5.39c-4.987-2.14-8.481-7.095-8.481-12.866 0-7.729 6.266-14.37 13.995-14.37s13.995 6.641 13.995 14.37c0 5.771-3.494 10.726-8.481 12.866z"})),category:"widgets",keywords:[I("Podcast","featured-content"),I("Feed to Audio","featured-content"),I("Podcasting","featured-content")],edit:B,save:function(){return null}})})();